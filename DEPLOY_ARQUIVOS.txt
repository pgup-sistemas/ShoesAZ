â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    ğŸ“¤ ARQUIVOS PARA FAZER DEPLOY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TOTAL: 13 arquivos (9 novos + 4 modificados)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ†• ARQUIVOS NOVOS - Criar/Copiar no servidor
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. app/Core/Installer.php
   â””â”€ Classe para gerenciar estado de instalaÃ§Ã£o
   â””â”€ Novo arquivo - copiar da mÃ¡quina local

2. app/Core/Middleware.php
   â””â”€ Middleware centralizado de autenticaÃ§Ã£o
   â””â”€ Novo arquivo - copiar da mÃ¡quina local

3. app/Services/DashboardService.php
   â””â”€ ServiÃ§o com cache para dashboard
   â””â”€ Novo arquivo - copiar da mÃ¡quina local

4. tests/test_installer.php
   â””â”€ Script de teste do instalador
   â””â”€ Novo arquivo - copiar da mÃ¡quina local (opcional)

5. tests/route_test.php
   â””â”€ Script de teste das rotas
   â””â”€ Novo arquivo - copiar da mÃ¡quina local (opcional)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœï¸ ARQUIVOS MODIFICADOS - Sobrescrever no servidor
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. app/Core/Router.php
   â””â”€ Adicionado try-catch global e middleware
   â””â”€ Arquivo existente - SOBRESCREVER

2. app/Core/DB.php
   â””â”€ Adicionado timeout e encoding
   â””â”€ Arquivo existente - SOBRESCREVER

3. index.php
   â””â”€ Adicionado redirecionamento para instalador
   â””â”€ Arquivo existente - SOBRESCREVER

4. install.php
   â””â”€ Interface profissional com campos de BD
   â””â”€ Arquivo existente - SOBRESCREVER (ou BACKUP antes!)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‹ INSTRUÃ‡Ã•ES DE DEPLOY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PASSO 1: FAZER BACKUP
  âš ï¸ IMPORTANTE! Antes de subir qualquer arquivo:
  
  SSH no servidor:
  $ cd /home/shoesaz/public_html/shoesaz
  $ tar -czf backup_$(date +%Y%m%d_%H%M%S).tar.gz \
      app/Core/Router.php \
      app/Core/DB.php \
      index.php \
      install.php

PASSO 2: REMOVER LOCK FILES (se forem reinstalar)
  $ rm database/install.lock 2>/dev/null || true
  $ rm .installed 2>/dev/null || true

PASSO 3: SUBIR ARQUIVOS NOVOS (via FTP, rsync ou git)

  OpÃ§Ã£o A - Via GIT (recomendado):
  $ git add -A
  $ git commit -m "Deploy: instalador com campos de BD"
  $ git push origin main

  OpÃ§Ã£o B - Via rsync:
  rsync -avz --delete \
    /c/xampp/htdocs/ShoesAZ/ \
    user@shoesaz.pageup.net.br:/home/shoesaz/public_html/shoesaz/

  OpÃ§Ã£o C - Via FTP/SFTP (manual - arquivo por arquivo)

PASSO 4: SOBRESCREVER ARQUIVOS MODIFICADOS

  Copiar/sobrescrever:
  âœ“ app/Core/Router.php
  âœ“ app/Core/DB.php
  âœ“ index.php
  âœ“ install.php

  Criar novos:
  âœ“ app/Core/Installer.php
  âœ“ app/Core/Middleware.php
  âœ“ app/Services/DashboardService.php
  âœ“ tests/test_installer.php (opcional)
  âœ“ tests/route_test.php (opcional)

PASSO 5: VERIFICAR PERMISSÃ•ES
  $ chmod 755 app/Core
  $ chmod 755 app/Services
  $ chmod 755 tests
  $ chmod 644 app/Core/*.php
  $ chmod 644 app/Services/*.php
  $ chmod 644 tests/*.php

PASSO 6: TESTAR NO NAVEGADOR

  a) Acessar: https://shoesaz.pageup.net.br/
     â””â”€ Deve redirecionar para /install.php automaticamente
  
  b) Preencher formulÃ¡rio com:
     - Host: localhost ou shoesaz.mysql.dbaas.com.br
     - Porta: 3306
     - Banco: shoesaz
     - UsuÃ¡rio: [seu usuÃ¡rio MySQL]
     - Senha: [sua senha MySQL]
     - Admin: seu nome
     - Login: seu login
     - Senha: sua senha
  
  c) Clicar "Instalar Agora"
  
  d) Se sucesso: âœ… Mensagem verde "InstalaÃ§Ã£o ConcluÃ­da!"
  
  e) Ir para Dashboard e fazer login

PASSO 7: MONITORAR ERROS
  $ tail -f /home/shoesaz/logs/php_errors.log

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“¦ ESTRUTURA ESPERADA APÃ“S DEPLOY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

shoesaz/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ Core/
â”‚   â”‚   â”œâ”€â”€ App.php (existente)
â”‚   â”‚   â”œâ”€â”€ Auth.php (existente)
â”‚   â”‚   â”œâ”€â”€ Authorization.php (existente)
â”‚   â”‚   â”œâ”€â”€ Autoloader.php (existente)
â”‚   â”‚   â”œâ”€â”€ Csrf.php (existente)
â”‚   â”‚   â”œâ”€â”€ DB.php âœï¸ MODIFICADO
â”‚   â”‚   â”œâ”€â”€ Flash.php (existente)
â”‚   â”‚   â”œâ”€â”€ Installer.php ğŸ†• NOVO
â”‚   â”‚   â”œâ”€â”€ Middleware.php ğŸ†• NOVO
â”‚   â”‚   â”œâ”€â”€ Pagination.php (existente)
â”‚   â”‚   â”œâ”€â”€ Request.php (existente)
â”‚   â”‚   â”œâ”€â”€ Response.php (existente)
â”‚   â”‚   â”œâ”€â”€ Router.php âœï¸ MODIFICADO
â”‚   â”‚   â””â”€â”€ View.php (existente)
â”‚   â”œâ”€â”€ Services/
â”‚   â”‚   â”œâ”€â”€ AuditoriaService.php (existente)
â”‚   â”‚   â”œâ”€â”€ DashboardService.php ğŸ†• NOVO
â”‚   â”‚   â”œâ”€â”€ LinkPublicoService.php (existente)
â”‚   â”‚   â”œâ”€â”€ LoginThrottleService.php (existente)
â”‚   â”‚   â”œâ”€â”€ NumeracaoService.php (existente)
â”‚   â”‚   â””â”€â”€ UploadService.php (existente)
â”‚   â””â”€â”€ Views/ (todos existentes)
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ app.php (existente)
â”‚   â”œâ”€â”€ database.php (serÃ¡ reescrito pelo instalador)
â”‚   â””â”€â”€ database.local.php (existente)
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ install.lock ğŸ†• CRIADO (pelo instalador)
â”‚   â”œâ”€â”€ schema.sql (existente)
â”‚   â””â”€â”€ seed.sql (existente)
â”œâ”€â”€ public/ (existente)
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ healthcheck.php (existente)
â”‚   â”œâ”€â”€ http_smoke.php (existente)
â”‚   â”œâ”€â”€ route_test.php ğŸ†• NOVO (opcional)
â”‚   â””â”€â”€ test_installer.php ğŸ†• NOVO (opcional)
â”œâ”€â”€ .installed ğŸ†• CRIADO (pelo instalador)
â”œâ”€â”€ index.php âœï¸ MODIFICADO
â””â”€â”€ install.php âœï¸ MODIFICADO

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš¡ QUICK DEPLOY (resumido)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Se tiver acesso SSH:

  $ ssh user@shoesaz.pageup.net.br
  $ cd /home/shoesaz/public_html/shoesaz
  $ tar -czf backup_$(date +%Y%m%d).tar.gz app/Core/Router.php app/Core/DB.php index.php install.php
  $ git pull origin main
  $ rm database/install.lock .installed 2>/dev/null || true

Se tiver acesso via FTP/SFTP:
  
  Upload destes arquivos em ordem:
  1. app/Core/Router.php (sobrescrever)
  2. app/Core/DB.php (sobrescrever)
  3. app/Core/Installer.php (novo)
  4. app/Core/Middleware.php (novo)
  5. app/Services/DashboardService.php (novo)
  6. index.php (sobrescrever)
  7. install.php (sobrescrever)
  
  Opcional:
  - tests/test_installer.php (novo)
  - tests/route_test.php (novo)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ§ª TESTAR APÃ“S DEPLOY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Acessar pÃ¡gina inicial:
   https://shoesaz.pageup.net.br/
   â†’ Deve redirecionar para /install.php

2. Executar teste (opcional):
   https://shoesaz.pageup.net.br/tests/test_installer.php
   â†’ Deve mostrar status de todos componentes

3. Executar testes de rota (opcional):
   https://shoesaz.pageup.net.br/tests/route_test.php
   â†’ Deve confirmar que rotas estÃ£o funcionando

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âŒ PROBLEMAS COMUNS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

"Erro: Cannot connect to database"
  â†’ Verificar credenciais MySQL (host, user, password, port)
  â†’ Verificar se usuÃ¡rio MySQL tem permissÃ£o de criar bancos

"Erro: install.lock already exists"
  â†’ Remover files: database/install.lock e .installed
  â†’ Acessar /install.php novamente

"Erro: Permission denied"
  â†’ Verificar permissÃµes de arquivo (644)
  â†’ Verificar permissÃµes de diretÃ³rio (755)

"Erro: Schema.sql not found"
  â†’ Verificar se database/schema.sql existe no servidor

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… CHECKLIST PRÃ‰-DEPLOY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â–¡ Fazer backup dos arquivos existentes
â–¡ Verificar credenciais MySQL (host, port, user, password)
â–¡ Remover lock files (install.lock, .installed) se existirem
â–¡ Subir 9 arquivos novos
â–¡ Sobrescrever 4 arquivos modificados
â–¡ Verificar permissÃµes (755 diretÃ³rios, 644 arquivos)
â–¡ Testar acesso via navegador
â–¡ Preencher formulÃ¡rio de instalaÃ§Ã£o
â–¡ Verificar se banco foi criado
â–¡ Verificar se usuÃ¡rio admin foi criado
â–¡ Fazer login no sistema
â–¡ Monitorar error_log por 24 horas

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Data: 18/02/2026
VersÃ£o: 1.0
Status: Pronto para deploy

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
